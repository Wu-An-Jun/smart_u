# 页面跳转功能测试

## 自动化相关页面测试

### 1. 智能家居自动化页面 (编号: 31)

**测试用例 1**: 查看已有自动化规则
- **用户输入**: "我想查看我的自动化规则"
- **预期AI返回**:
```json
{
  "action": "navigate",
  "page_code": 31,
  "page_name": "智能家居自动化",
  "reason": "用户想要查看和管理现有的自动化规则"
}
```
- **页面功能**: 显示已创建的自动化规则列表，可以查看、启用/禁用、删除规则

**测试用例 2**: 管理自动化
- **用户输入**: "管理我的自动化"
- **预期跳转**: 编号 31 - 智能家居自动化页面

### 2. 自动化创建页面 (编号: 40)

**测试用例 3**: 创建新的自动化规则
- **用户输入**: "我想创建一个自动化规则"
- **预期AI返回**:
```json
{
  "action": "navigate",
  "page_code": 40,
  "page_name": "自动化创建",
  "reason": "用户需要创建新的智能自动化规则"
}
```
- **页面功能**: 创建新的自动化规则，设置触发条件和执行任务

**测试用例 4**: 定时任务设置
- **用户输入**: "帮我设置定时开灯"
- **预期跳转**: 编号 40 - 自动化创建页面

## 页面区别说明

| 页面 | 编号 | 主要功能 | 使用场景 |
|------|------|---------|---------|
| 智能家居自动化 | 31 | 查看和管理已有规则 | 用户想要查看、修改、删除现有规则 |
| 自动化创建 | 40 | 创建新的自动化规则 | 用户想要设置新的自动化任务 |

## 完整的用户对话流程测试

### 场景1: 从查看到创建
1. 用户: "我的自动化规则有哪些？"
   - 跳转到编号31 (智能家居自动化页面)
   - 显示现有规则列表
   
2. 用户: "我想新建一个规则"
   - 跳转到编号40 (自动化创建页面)
   - 开始创建流程

### 场景2: 直接创建
1. 用户: "设置每天早上7点自动打开窗帘"
   - 跳转到编号40 (自动化创建页面)
   - 可以直接开始设置时间条件和窗帘控制任务

### 场景3: 管理现有规则
1. 用户: "关闭那个定时开灯的规则"
   - 跳转到编号31 (智能家居自动化页面)
   - 可以找到并禁用对应规则

## 关键词区分测试

### 触发编号31的关键词:
- "查看自动化"
- "我的自动化规则"
- "管理自动化" 
- "自动化列表"
- "已有的规则"

### 触发编号40的关键词:
- "创建自动化"
- "新建规则"
- "设置定时任务"
- "添加自动化"
- "创建智能规则"

## 测试用的AI提示示例

为了测试这个功能，可以让AI返回以下格式的响应：

**智能家居自动化页面测试**:
```
我来帮您查看现有的自动化规则。

{
  "action": "navigate",
  "page_code": 31,
  "page_name": "智能家居自动化",
  "reason": "用户想要查看和管理现有的自动化规则"
}
```

**自动化创建页面测试**:
```
我来帮您创建一个新的自动化规则。

{
  "action": "navigate", 
  "page_code": 40,
  "page_name": "自动化创建",
  "reason": "用户需要创建新的智能自动化规则"
}
```

## 验证步骤

1. 在首页聊天界面输入测试用例
2. 检查AI是否正确识别意图
3. 验证是否显示正确的跳转按钮
4. 点击按钮确认跳转到正确页面
5. 验证页面功能是否符合预期

这样就能确保自动化相关的两个页面都能通过AI聊天正确跳转了。 